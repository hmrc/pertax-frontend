@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@(personDetails: models.PersonDetails)(implicit pertaxContext: PertaxContext, messages: play.api.i18n.Messages)

@import models.PertaxUser._
@import tags._

@main(Messages("label.print_your_national_insurance_summary"), Some(Messages("label.national_insurance")), printableDocument = true) {

  <div class="grid-row">
    <div class="column-half">
      <a class="link-back" href="@controllers.routes.InterstitialController.displayNationalInsurance()" data-journey-click="link - click:Your National Insurance letter:@Messages("label.back")">@Messages("label.back")</a>
    </div>
  </div>
  
  <div class="page-header home">
    <div class="page-info">@Messages("label.personal_details")</div>
    <h1 class="heading-xlarge no-margin-top no-margin-bottom">
      @Messages("label.your_national_insurance_letter")
    </h1>
  </div>

  <div class="print-this">
    <img class="print-this__icon" src="@pertaxContext.configDecorator.assetsPrefix/images/icon-print.svg" alt="Print Icon"/>
    <a class="print-this__link" href="javascript:window.print()" data-journey-click="print - click:Your National Insurance letter:@Messages("label.print")">@Messages("label.print")</a>
  </div>
  
  <div class="print-document">
    <div class="grid-row print-header">
      <div class="column-one-third">
        <img class="print-header__hmrc-logo" src="/personal-account/assets/images/HMRC-logo.png" alt="@Messages("label.hm_revenue_and_customs")">
        <h2><span>HM Revenue </span>&amp; Customs</h2>
      </div>
      <div class="column-two-thirds">
        <h3 class="heading-medium margin-top-small no-margin-bottom print-header__heading">
          @Messages("label.your_national_insurance_number")
        </h3>
      </div>
    </div>

    <div class="grid-row document-address">
      <div class="column-half document-address__recipient">
        @personDetails.person.initialsName
        @personDetails.correspondenceAddress.map { correspondenceAddress =>
          @fullAddress(correspondenceAddress)
        }.getOrElse {
          @personDetails.address.map { residentialAddress =>
            @fullAddress(residentialAddress)
          }
        }
      </div>

      <div class="column-half">
        <div class="document-address__sender">
          <address>
            @Html(Messages("label.nic_eo_hmrc_address"))
          </address>
          <p class="phone">@Messages("label.phone_text")<span class="phone-number">@Messages("label.phone_0300_200_3500")</span></p>
          <p class="url">@Messages("label.www_hmrc_gov_uk")</p>

          @ifHighGovernmentGatewayOrVerifyUser {
            @ifPayeUserLoanNino { nino =>
              <div class="your-nino"><p>@Messages("label.national_insurance_number")</p></div>
              <div class="your-nino-number"><p>@formattedNino(nino)</p></div>
            }
          }
        </div>
      </div>
    </div>

    <div class="grid-row main-content">
      <div class="column-full">

        <p class="name">@personDetails.person.fullName</p>

        @ifHighGovernmentGatewayOrVerifyUser {
          @ifPayeUserLoanNino { nino =>
            <div class="print-document__information-box bold-small">
              @Messages("label.your_national_insurance_number_is")@formattedNino(nino)
            </div>
          }
        }

        @Html(Messages("label.print_nino_page_text_"))

      </div>
    </div>
  
  </div>
</html>
}
